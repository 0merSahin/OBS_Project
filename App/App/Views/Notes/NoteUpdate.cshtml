@model List<App.Models.NoteUpdateModel>
@inject HtmlAuthorityManager AuthorityManager
@using App.Managers


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Note Update</title>
    <link rel="stylesheet" href="~/css/notes-index.css" asp-append-version="true" />
</head>
<body>
    <header class="header1">
        <h1>Öğrencilerin Notlarını Güncelle</h1>
    </header>
    @if (ViewBag.Message != null)
    {
        <p style="color:green"> @ViewBag.Message </p>
    }
    @if (ViewBag.ErrorMessage != null)
    {
        <p style="color:red"> @ViewBag.ErrorMessage </p>
    }
    @if (TempData["Message"] != null)
    {
        <p style="color:red"> @TempData["Message"] </p>
    }
    @if (TempData["ErrorMessage"] != null)
    {
        <p style="color:red"> @TempData["ErrorMessage"] </p>
    }

    @if (Model != null)
    {
        <div class="container1">
            <form asp-action="NoteUpdate" method="post">
                <table class="notlar-table1">
                    <thead>
                        <tr>
                            <th class="parameters">Numarası</th>
                            <th class="parameters">İsmi</th>
                            <th class="parameters">Soyismi</th>
                            <th class="parameters">Yeni Notu</th>
                        </tr>
                    </thead>
                    <tbody>

                        @for (int i = 0; i < Model.Count; i++)
                        {
                            var item = Model[i];
                            <tr>
                                <td>@item.StudentNumber</td>
                                <td>@item.FirstName</td>
                                <td>@item.LastName</td>
                                <td>
                                    <label for="Score_@i">Score:</label>
                                    <input type="number" id="Score_@i" name="noteList[@i].Score" required>
                                    <input type="hidden" name="noteList[@i].NoteID" value="@item.NoteID">
                                </td>
                            </tr>
                        }

                    </tbody>
                </table>
                <button type="submit" asp-action="NoteUpdate">Not Güncelle</button>
            </form>
        </div>
    }
</body>
</html>


